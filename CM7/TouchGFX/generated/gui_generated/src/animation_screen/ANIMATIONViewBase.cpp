/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/animation_screen/ANIMATIONViewBase.hpp>
#include <touchgfx/Color.hpp>
#include <videos/VideoDatabase.hpp>

ANIMATIONViewBase::ANIMATIONViewBase() :
    flexButtonCallback(this, &ANIMATIONViewBase::flexButtonCallbackHandler),
    interaction_Delay_INITIALIZATION_page_pressCounter(0)
{
    __background.setPosition(0, 0, 480, 272);
    __background.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    add(__background);

    TESLA_carrosel.setPosition(0, 0, 480, 272);
    TESLA_carrosel.setVideoData(video_AnimacaoNK624_bin_start, video_AnimacaoNK624_bin_length);
    TESLA_carrosel.setRepeat(true);
    TESLA_carrosel.play();
    add(TESLA_carrosel);

    FRONTGROUND.setPosition(0, 0, 480, 272);
    FRONTGROUND.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    FRONTGROUND.setAlpha(0);
    add(FRONTGROUND);

    INIT_button.setBoxWithBorderPosition(0, 0, 480, 272);
    INIT_button.setBorderSize(5);
    INIT_button.setBoxWithBorderColors(touchgfx::Color::getColorFromRGB(0, 102, 153), touchgfx::Color::getColorFromRGB(0, 153, 204), touchgfx::Color::getColorFromRGB(0, 51, 102), touchgfx::Color::getColorFromRGB(51, 102, 153));
    INIT_button.setAlpha(0);
    INIT_button.setAction(flexButtonCallback);
    INIT_button.setPosition(0, 0, 480, 272);
    add(INIT_button);
}

ANIMATIONViewBase::~ANIMATIONViewBase()
{

}

void ANIMATIONViewBase::setupScreen()
{

}

void ANIMATIONViewBase::flexButtonCallbackHandler(const touchgfx::AbstractButtonContainer& src)
{
    if (&src == &INIT_button)
    {
        //Interaction_INITIALIZATION_page_press
        //When INIT_button clicked call virtual function
        //Call TransitionEnd_Animation
        TransitionEnd_Animation();
    
        //Interaction_Delay_INITIALIZATION_page_press
        //When Interaction_INITIALIZATION_page_press completed delay
        //Delay for 251 ms (15 Ticks)
        interaction_Delay_INITIALIZATION_page_pressCounter = INTERACTION_DELAY_INITIALIZATION_PAGE_PRESS_DURATION;
    }
}

void ANIMATIONViewBase::handleTickEvent()
{
    if (interaction_Delay_INITIALIZATION_page_pressCounter > 0)
    {
        interaction_Delay_INITIALIZATION_page_pressCounter--;
        if (interaction_Delay_INITIALIZATION_page_pressCounter == 0)
        {
                //Interaction_Delay_Screen_INITIALIZATION_page_press
                //When Interaction_Delay_INITIALIZATION_page_press completed change screen to DRIVER
                //Go to DRIVER with no screen transition
                application().gotoDRIVERScreenNoTransition();
        }
    }
}
